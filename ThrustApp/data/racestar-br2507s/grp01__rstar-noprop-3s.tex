\documentclass[10pt]{article}

\usepackage{pgfplots}
\usepackage{multirow}
\usepackage{filecontents}

\pgfplotsset{compat=1.14}

\usepackage[margin=20mm]{geometry}

\setlength{\textheight}{240 mm}

\begin{filecontents*}{table1.dat}
out,      th,    th_err, tq,     tq_err,  rpm,   rpm_err,  v,    v_err,   a,     a_err,   pin,        theff
    2e+01,       -0.35,       0.238,       -1.52,       1.115,       10043,       105.4,      11.864,      0.0046,       0.369,      0.0290,       4.382,      -0.079
       30,        1.38,       0.310,       -0.81,       1.062,       13428,        62.8,      11.856,      0.0055,       0.583,      0.0291,       6.914,       0.199
       40,        3.41,       0.272,       29.25,     170.185,       15430,        85.1,      11.850,      0.0047,       0.729,      0.0364,       8.637,       0.394
       50,        3.18,       0.239,        2.33,       1.037,       16833,        60.1,      11.844,      0.0031,       0.807,      0.0292,       9.552,       0.333
       60,        2.76,       0.239,        2.48,       1.036,       17792,        48.7,      11.838,      0.0037,       0.892,      0.0289,      10.556,       0.261
       70,        2.54,       0.243,        3.00,       1.034,       18550,        48.8,      11.835,      0.0043,       0.902,      0.0288,      10.673,       0.238
       80,        2.21,       0.246,        3.52,       1.037,       19072,        47.7,      11.830,      0.0049,       0.937,      0.0290,      11.085,       0.200
       90,        1.95,       0.241,        3.70,       1.037,       19608,        50.0,      11.828,      0.0035,       0.964,      0.0341,      11.405,       0.171
      100,        2.73,       0.241,        4.22,       1.047,       20995,        43.5,      11.821,      0.0054,       1.010,      0.0593,      11.935,       0.229
\end{filecontents*}

\begin{filecontents*}{table2.dat}
out,      th,    th_err, tq,     tq_err,  rpm,   rpm_err,  v,    v_err,   a,     a_err,   pin,        theff
       20,        2.00,       0.319,       -1.62,       0.930,       10218,       107.7,      11.848,      0.0044,       0.365,      0.0293,       4.325,       0.462
       30,        2.11,       0.313,       -1.29,       0.858,       13577,        64.1,      11.840,      0.0047,       0.578,      0.0280,       6.841,       0.308
       40,        3.39,       0.395,        0.70,       0.847,       15530,        89.5,      11.837,      0.0042,       0.715,      0.0291,       8.468,       0.400
       50,        3.26,       0.320,        1.48,       0.845,       16868,        41.5,      11.829,      0.0047,       0.796,      0.0270,       9.419,       0.347
       60,        2.96,       0.718,        1.31,       0.939,       17856,        56.2,      11.823,      0.0048,       0.850,      0.0293,      10.049,       0.294
       70,        3.07,       0.324,        3.33,       0.843,       18598,        46.4,      11.819,      0.0045,       0.893,      0.0291,      10.551,       0.291
       80,        2.52,       0.320,        3.52,       0.842,       19088,        50.0,      11.816,      0.0021,       0.935,      0.0288,      11.049,       0.228
       90,        2.67,       0.337,        3.63,       0.844,       19621,        56.2,      11.811,      0.0057,       0.961,      0.0363,      11.356,       0.235
      100,        3.31,       0.320,        4.07,       0.845,       20965,        49.2,      11.806,      0.0059,       1.030,      0.0531,      12.164,       0.272
\end{filecontents*}

\begin{filecontents*}{table3.dat}
out,      th,    th_err, tq,     tq_err,  rpm,   rpm_err,  v,    v_err,   a,     a_err,   pin,        theff
       20,        2.60,       0.340,       -0.76,       1.091,       10266,       124.9,      11.833,      0.0057,       0.386,      0.0441,       4.564,       0.569
       30,        3.01,       0.313,       -0.16,       1.046,       13641,        62.4,      11.826,      0.0047,       0.580,      0.0294,       6.857,       0.439
       40,        3.94,       0.322,        1.39,       1.024,       15586,        90.2,      11.821,      0.0057,       0.718,      0.0299,       8.483,       0.464
       50,        3.69,       0.324,        2.00,       1.026,       16903,        47.0,      11.813,      0.0052,       0.780,      0.0361,       9.213,       0.401
       60,        3.15,       0.317,        2.27,       1.029,       17844,        39.3,      11.810,      0.0036,       0.849,      0.0298,      10.028,       0.314
       70,        3.15,       0.339,        3.03,       1.165,       18592,        43.7,      11.805,      0.0050,       0.889,      0.0294,      10.497,       0.300
       80,        1.72,       0.315,        5.25,       1.023,       19088,        34.5,      11.801,      0.0049,       0.920,      0.0384,      10.856,       0.159
       90,        1.52,       0.314,        5.20,       1.021,       19595,        42.5,      11.796,      0.0046,       0.943,      0.0295,      11.129,       0.136
      100,        2.08,       0.312,        5.65,       1.024,       20941,        32.4,      11.796,      0.0045,       1.012,      0.0604,      11.937,       0.174
\end{filecontents*}





\begin{document}

\noindent
{\large \bf Tool info}
\vspace{3mm}

\noindent
\begin{tabular}{ll}
Serial API:  & 1:1.0\\ 
Board:       & Custom STM32F401RE thrustBoard v2\\ 
Firmware:    & thrust++ : ChibiOS RT 7.1.0 : HAL 8.1.0\\ 
Commit:      & [0ea573c] : Sep 15 2022 - 20:11:16
\end{tabular}
\vspace{3mm}

\noindent
{\large \bf Measurement info}
\vspace{3mm}

\noindent
\begin{tabular}{ll}
Motor:        & RaceStar BR2507S\\ 
KV:           & 1800\\ 
Magnet poles: & 14\\ 
Propeler:     & HQProp 6x4x3\\ 
Blade count:  & 3\\ 
Note:         & battery 3S 2700mAh
\end{tabular}

\vspace{3mm}

%\noindent
%{\large \bf Measurement Results 1:}
%\vspace{3mm}

\subsection*{\large \bf Measurement Results 1:}

\noindent
\resizebox{\textwidth}{!}{
\begin{tabular}{|r|rr|rr|rr|rr|rr|r|r|}
\hline 
 \multirow[c]{2}{11mm}{Output [\%]} & \multicolumn{2}{l|}{Thrust [G]} & \multicolumn{2}{l|}{Torque [G cm]} & \multicolumn{2}{l|}{RPM [1/min]} 
   & \multicolumn{2}{l|}{Voltage [V]} & \multicolumn{2}{l|}{Current [A]} &\multirow{2}{14mm}{Pin [W]}  &\multirow{2}{14mm}{ThrustEff [G/W]}  \\
\cline{2-11} 
    &    mean& std dev&   mean& std dev&   mean& std dev&    mean& std dev&  mean& std dev&         &                \\
\hline
       20 &        -0.35 &        0.238 &        -1.52 &        1.115 &        10043 &        105.4 &       11.864 &       0.0046 &        0.369 &       0.0290 &        4.382 &       -0.079 \\
       30 &         1.38 &        0.310 &        -0.81 &        1.062 &        13428 &         62.8 &       11.856 &       0.0055 &        0.583 &       0.0291 &        6.914 &        0.199 \\
       40 &         3.41 &        0.272 &        29.25 &      170.185 &        15430 &         85.1 &       11.850 &       0.0047 &        0.729 &       0.0364 &        8.637 &        0.394 \\
       50 &         3.18 &        0.239 &         2.33 &        1.037 &        16833 &         60.1 &       11.844 &       0.0031 &        0.807 &       0.0292 &        9.552 &        0.333 \\
       60 &         2.76 &        0.239 &         2.48 &        1.036 &        17792 &         48.7 &       11.838 &       0.0037 &        0.892 &       0.0289 &       10.556 &        0.261 \\
       70 &         2.54 &        0.243 &         3.00 &        1.034 &        18550 &         48.8 &       11.835 &       0.0043 &        0.902 &       0.0288 &       10.673 &        0.238 \\
       80 &         2.21 &        0.246 &         3.52 &        1.037 &        19072 &         47.7 &       11.830 &       0.0049 &        0.937 &       0.0290 &       11.085 &        0.200 \\
       90 &         1.95 &        0.241 &         3.70 &        1.037 &        19608 &         50.0 &       11.828 &       0.0035 &        0.964 &       0.0341 &       11.405 &        0.171 \\
      100 &         2.73 &        0.241 &         4.22 &        1.047 &        20995 &         43.5 &       11.821 &       0.0054 &        1.010 &       0.0593 &       11.935 &        0.229 \\
\hline
\end{tabular}
}

%\vspace{3mm}

%\noindent
%{\large \bf Measurement Results 2:}
%\vspace{3mm}

\subsection*{\large \bf Measurement Results 2:}

\noindent
\resizebox{\textwidth}{!}{
\begin{tabular}{|r|rr|rr|rr|rr|rr|r|r|}
\hline 
 \multirow[c]{2}{11mm}{Output [\%]} & \multicolumn{2}{l|}{Thrust [G]} & \multicolumn{2}{l|}{Torque [G cm]} & \multicolumn{2}{l|}{RPM [1/min]} 
   & \multicolumn{2}{l|}{Voltage [V]} & \multicolumn{2}{l|}{Current [A]} &\multirow{2}{14mm}{Pin [W]}  &\multirow{2}{14mm}{ThrustEff [G/W]}  \\
\cline{2-11} 
    &    mean& std dev&   mean& std dev&   mean& std dev&    mean& std dev&  mean& std dev&         &                \\
\hline
       20 &         2.00 &        0.319 &        -1.62 &        0.930 &        10218 &        107.7 &       11.848 &       0.0044 &        0.365 &       0.0293 &        4.325 &        0.462 \\
       30 &         2.11 &        0.313 &        -1.29 &        0.858 &        13577 &         64.1 &       11.840 &       0.0047 &        0.578 &       0.0280 &        6.841 &        0.308 \\
       40 &         3.39 &        0.395 &         0.70 &        0.847 &        15530 &         89.5 &       11.837 &       0.0042 &        0.715 &       0.0291 &        8.468 &        0.400 \\
       50 &         3.26 &        0.320 &         1.48 &        0.845 &        16868 &         41.5 &       11.829 &       0.0047 &        0.796 &       0.0270 &        9.419 &        0.347 \\
       60 &         2.96 &        0.718 &         1.31 &        0.939 &        17856 &         56.2 &       11.823 &       0.0048 &        0.850 &       0.0293 &       10.049 &        0.294 \\
       70 &         3.07 &        0.324 &         3.33 &        0.843 &        18598 &         46.4 &       11.819 &       0.0045 &        0.893 &       0.0291 &       10.551 &        0.291 \\
       80 &         2.52 &        0.320 &         3.52 &        0.842 &        19088 &         50.0 &       11.816 &       0.0021 &        0.935 &       0.0288 &       11.049 &        0.228 \\
       90 &         2.67 &        0.337 &         3.63 &        0.844 &        19621 &         56.2 &       11.811 &       0.0057 &        0.961 &       0.0363 &       11.356 &        0.235 \\
      100 &         3.31 &        0.320 &         4.07 &        0.845 &        20965 &         49.2 &       11.806 &       0.0059 &        1.030 &       0.0531 &       12.164 &        0.272 \\
\hline
\end{tabular}
}

%\vspace{3mm}

%\noindent
%{\large \bf Measurement Results 3:}
%\vspace{3mm}

\subsection*{\large \bf Measurement Results 3:}

\noindent
\resizebox{\textwidth}{!}{
\begin{tabular}{|r|rr|rr|rr|rr|rr|r|r|}
\hline 
 \multirow[c]{2}{11mm}{Output [\%]} & \multicolumn{2}{l|}{Thrust [G]} & \multicolumn{2}{l|}{Torque [G cm]} & \multicolumn{2}{l|}{RPM [1/min]} 
   & \multicolumn{2}{l|}{Voltage [V]} & \multicolumn{2}{l|}{Current [A]} &\multirow{2}{14mm}{Pin [W]}  &\multirow{2}{14mm}{ThrustEff [G/W]}  \\
\cline{2-11} 
    &    mean& std dev&   mean& std dev&   mean& std dev&    mean& std dev&  mean& std dev&         &                \\
\hline
       20 &         2.60 &        0.340 &        -0.76 &        1.091 &        10266 &        124.9 &       11.833 &       0.0057 &        0.386 &       0.0441 &        4.564 &        0.569 \\
       30 &         3.01 &        0.313 &        -0.16 &        1.046 &        13641 &         62.4 &       11.826 &       0.0047 &        0.580 &       0.0294 &        6.857 &        0.439 \\
       40 &         3.94 &        0.322 &         1.39 &        1.024 &        15586 &         90.2 &       11.821 &       0.0057 &        0.718 &       0.0299 &        8.483 &        0.464 \\
       50 &         3.69 &        0.324 &         2.00 &        1.026 &        16903 &         47.0 &       11.813 &       0.0052 &        0.780 &       0.0361 &        9.213 &        0.401 \\
       60 &         3.15 &        0.317 &         2.27 &        1.029 &        17844 &         39.3 &       11.810 &       0.0036 &        0.849 &       0.0298 &       10.028 &        0.314 \\
       70 &         3.15 &        0.339 &         3.03 &        1.165 &        18592 &         43.7 &       11.805 &       0.0050 &        0.889 &       0.0294 &       10.497 &        0.300 \\
       80 &         1.72 &        0.315 &         5.25 &        1.023 &        19088 &         34.5 &       11.801 &       0.0049 &        0.920 &       0.0384 &       10.856 &        0.159 \\
       90 &         1.52 &        0.314 &         5.20 &        1.021 &        19595 &         42.5 &       11.796 &       0.0046 &        0.943 &       0.0295 &       11.129 &        0.136 \\
      100 &         2.08 &        0.312 &         5.65 &        1.024 &        20941 &         32.4 &       11.796 &       0.0045 &        1.012 &       0.0604 &       11.937 &        0.174 \\
\hline
\end{tabular}
}

%\vspace{3mm}






\pagebreak
%\noindent
%{\large \bf Plots for Measurement Results:}
%\vspace{3mm}

\subsection*{Plots for Measurement Results:}
%\noindent
\centerline{
\hspace{-10mm}
\begin{tikzpicture}
	\begin{axis}[
		height=8cm,
		width=8cm,  %\textwidth,
		xmin=15,
		xmax=105,
		ymin=0,
		minor x tick num=3,
		minor y tick num=3,
		ticklabel style = {font=\tiny},
		grid=both,
		major grid style={gray!80},
		minor grid style={gray!25},
		xlabel={\footnotesize Motor Output [\%]},
		ylabel={\footnotesize Thrust [G]},
		%ylabel style={ yshift = {-1mm}, },
		legend pos=north west,
		legend style={draw=none}]
	\addplot[
		blue, mark options={black, scale=0.175},
		smooth, 
		error bars/.cd, 
		y fixed,
		y dir=both, 
		y explicit,
	] 
	table [x=out, y=th, y error=th_err, col sep=comma] {table1.dat};
	\addplot[
		blue, mark options={black, scale=0.175},
		smooth, 
		error bars/.cd, 
		y fixed,
		y dir=both, 
		y explicit,
	] 
	table [x=out, y=th, y error=th_err, col sep=comma] {table2.dat};
	\addplot[
		blue, mark options={black, scale=0.175},
		smooth, 
		error bars/.cd, 
		y fixed,
		y dir=both, 
		y explicit,
	] 
	table [x=out, y=th, y error=th_err, col sep=comma] {table3.dat};

	\end{axis}
\end{tikzpicture}
\hspace{5mm}
\begin{tikzpicture}
	\begin{axis}[
		height=8cm,
		width=8cm,  %\textwidth,
		xmin=15,
		xmax=105,
		ymin=0,
		minor x tick num=3,
		minor y tick num=3,
		ticklabel style = {font=\tiny},
		grid=both,
		major grid style={gray!80},
		minor grid style={gray!25},
		xlabel={\footnotesize Motor Output [\%]},
		ylabel={\footnotesize Torque [G cm]},
		legend pos=north west,
		legend style={draw=none}]
	\addplot[
		blue, mark options={black, scale=0.175},
		smooth, 
		error bars/.cd, 
		y fixed,
		y dir=both, 
		y explicit,
	] 
	table [x=out, y=tq, y error=tq_err, col sep=comma] {table1.dat};
	\addplot[
		blue, mark options={black, scale=0.175},
		smooth, 
		error bars/.cd, 
		y fixed,
		y dir=both, 
		y explicit,
	] 
	table [x=out, y=tq, y error=tq_err, col sep=comma] {table2.dat};
	\addplot[
		blue, mark options={black, scale=0.175},
		smooth, 
		error bars/.cd, 
		y fixed,
		y dir=both, 
		y explicit,
	] 
	table [x=out, y=tq, y error=tq_err, col sep=comma] {table3.dat};

	\end{axis}
\end{tikzpicture}
}
  
%\noindent 
\centerline{
\vspace{3mm}
\begin{tikzpicture}
	\begin{axis}[
		height=8cm,
		width=8cm,  %\textwidth,
		xmin=15,
		xmax=105,
		%ymin=0,
		minor x tick num=3,
		minor y tick num=3,	
		ticklabel style = {font=\tiny},
		tick scale binop=\times, %base 10:-3,
		grid=both,
		major grid style={gray!80},
		minor grid style={gray!25},
		xlabel={\footnotesize Motor Output [\%]},
		ylabel={\footnotesize RPM [1/min]},
		legend pos=north west,
		legend style={draw=none}]
	\addplot[
		blue, mark options={black, scale=0.175},
		smooth, 
		error bars/.cd, 
			y fixed,
			y dir=both, 
			y explicit,
	] 
	table [x=out, y=rpm, y error=rpm_err, col sep=comma] {table1.dat};
	\addplot[
		blue, mark options={black, scale=0.175},
		smooth, 
		error bars/.cd, 
			y fixed,
			y dir=both, 
			y explicit,
	] 
	table [x=out, y=rpm, y error=rpm_err, col sep=comma] {table2.dat};
	\addplot[
		blue, mark options={black, scale=0.175},
		smooth, 
		error bars/.cd, 
			y fixed,
			y dir=both, 
			y explicit,
	] 
	table [x=out, y=rpm, y error=rpm_err, col sep=comma] {table3.dat};

	\end{axis}
\end{tikzpicture}
\hspace{4.65mm}
\begin{tikzpicture}
	\begin{axis}[
		height=8cm,
		width=8cm,
		axis y line*=right,		
		xmin=15,
		xmax=105,
		ymin=0,
		minor x tick num=3,
		ticklabel style = {font=\tiny},
		grid=both,
		xlabel={\footnotesize Motor Output [\%]},
		ylabel={\footnotesize Current [A]},
		legend pos=north west,
		legend style={draw=none}]
	\addplot[
	  blue, mark options={black, scale=0.175},
	  smooth, 
	  error bars/.cd, 
		y fixed,
		y dir=both, 
		y explicit
	] 
	table [x=out, y=a, y error=a_err, col sep=comma] {table1.dat};
	\addplot[
	  blue, mark options={black, scale=0.175},
	  smooth, 
	  error bars/.cd, 
		y fixed,
		y dir=both, 
		y explicit
	] 
	table [x=out, y=a, y error=a_err, col sep=comma] {table2.dat};
	\addplot[
	  blue, mark options={black, scale=0.175},
	  smooth, 
	  error bars/.cd, 
		y fixed,
		y dir=both, 
		y explicit
	] 
	table [x=out, y=a, y error=a_err, col sep=comma] {table3.dat};

	\end{axis}
	\begin{axis}[
		height=8cm,
		width=8cm,  %\textwidth,
		axis y line*=left,
		axis x line=none,
		scaled y ticks=false,
		ticklabel style = {font=\tiny},
		grid style=dashed,
		grid=major,
		ylabel={\footnotesize Voltage [V]},
		legend style={
			nodes={scale=0.5, transform shape},
			cells={anchor=east},
			% legend pos=south east,
			at={(0.5,0.97)},anchor=north,
		}
	]
%	\addlegendimage{/pgfplots/refstyle=plot_1}\addlegendentry{Current [A]}
	\addplot[
		red, mark options={red, scale=0.15},
		smooth,
		error bars/.cd, 
		y fixed,
		y dir=both, 
		y explicit  
	] 
	table [x=out, y=v, y error=v_err, col sep=comma] {table1.dat};
	\addplot[
		red, mark options={red, scale=0.15},
		smooth,
		error bars/.cd, 
		y fixed,
		y dir=both, 
		y explicit  
	] 
	table [x=out, y=v, y error=v_err, col sep=comma] {table2.dat};
	\addplot[
		red, mark options={red, scale=0.15},
		smooth,
		error bars/.cd, 
		y fixed,
		y dir=both, 
		y explicit  
	] 
	table [x=out, y=v, y error=v_err, col sep=comma] {table3.dat};

%	\addlegendentry{Voltage [V]}
	\end{axis}
\end{tikzpicture}
\vspace{3mm}
}

%\noindent 
\centerline{
\hspace{-10mm}
\begin{tikzpicture}
	\begin{axis}[
		height=8cm,
		width=8cm,  %\textwidth,
		xmin=15,
		xmax=105,
		ymin=0,
		minor x tick num=3,
		minor y tick num=3,		
		ticklabel style = {font=\tiny},
		grid=both,
		major grid style={gray!80},
		minor grid style={gray!25},
		xlabel={\footnotesize Motor Output [\%]},
		ylabel={\footnotesize Power In [W]},
		legend pos=north west,
		legend style={
			nodes={scale=0.75, transform shape},
			cells={anchor=west},
			legend pos=north west,
		}	
	]			
	\addplot[
		blue, mark=*, mark options={blue, scale=0.5},
		smooth, 
	] 
	table [x=out, y=pin, col sep=comma] {table1.dat};
	\addplot[
		blue, mark=*, mark options={blue, scale=0.5},
		smooth, 
	] 
	table [x=out, y=pin, col sep=comma] {table2.dat};
	\addplot[
		blue, mark=*, mark options={blue, scale=0.5},
		smooth, 
	] 
	table [x=out, y=pin, col sep=comma] {table3.dat};

	\end{axis}
\end{tikzpicture}
\hspace{9mm}
\begin{tikzpicture}
	\begin{axis}[
		height=8cm,
		width=8cm,  %\textwidth,
		xmin=15,
		xmax=105,
		minor x tick num=3,
		minor y tick num=3,
		ticklabel style = {font=\tiny},
		grid=both,
		major grid style={gray!80},
		minor grid style={gray!25},
		xlabel={\footnotesize Motor Output [\%]},
		ylabel={\footnotesize Thrust Efficiency [G/W]},
		legend pos=north west,
		legend style={draw=none}]
	\addplot[
		blue, mark=*, mark options={blue, scale=0.5},
		smooth, 
	] 
	table [x=out, y=theff, col sep=comma] {table1.dat};
	\addplot[
		blue, mark=*, mark options={blue, scale=0.5},
		smooth, 
	] 
	table [x=out, y=theff, col sep=comma] {table2.dat};
	\addplot[
		blue, mark=*, mark options={blue, scale=0.5},
		smooth, 
	] 
	table [x=out, y=theff, col sep=comma] {table3.dat};

	\end{axis}
\end{tikzpicture}
}
	
\end{document}


