\documentclass[10pt]{article}

\usepackage{pgfplots}
\usepackage{multirow}
\usepackage{filecontents}

\pgfplotsset{compat=1.14}

\usepackage[margin=20mm]{geometry}

\setlength{\textheight}{240 mm}

\begin{filecontents*}{table1.dat}
out,      th,    th_err, tq,     tq_err,  rpm,   rpm_err,  v,    v_err,   a,     a_err,   pin,        theff
    2e+01,       88.99,       2.243,      213.81,       1.999,        1720,        60.3,      12.311,      0.0041,       0.660,      0.0441,       8.128,      10.948
       30,      177.22,       2.230,      425.87,       1.863,        2507,        60.4,      12.285,      0.0048,       1.524,      0.0380,      18.728,       9.462
       40,      361.10,       2.249,      756.64,       1.919,        3442,        61.7,      12.223,      0.0043,       3.348,      0.0586,      40.929,       8.823
       50,      602.67,       2.210,     1207.94,       2.476,        4378,        64.0,      12.125,      0.0065,       6.429,      0.0650,      77.954,       7.731
       60,      873.73,       2.279,     1745.68,       2.109,        5244,        70.0,      11.976,      0.0111,      10.742,      0.0739,     128.651,       6.791
       70,     1138.68,       2.418,     2274.42,       6.415,        5954,        71.0,      11.793,      0.0114,      15.719,      0.0746,     185.369,       6.143
       80,     1368.70,       4.433,     2778.03,       8.455,        6584,        73.2,      11.577,      0.0123,      21.616,      0.0831,     250.248,       5.469
       90,     1593.75,       4.502,     3262.26,      12.418,        7085,        70.7,      11.336,      0.0114,      28.229,      0.1227,     319.997,       4.981
      100,     1816.87,       5.356,     3671.65,      16.864,        7515,        76.8,      11.070,      0.0121,      35.296,      0.1922,     390.715,       4.650
\end{filecontents*}

\begin{filecontents*}{table2.dat}
out,      th,    th_err, tq,     tq_err,  rpm,   rpm_err,  v,    v_err,   a,     a_err,   pin,        theff
       20,       87.92,       3.412,      211.90,       3.816,        1662,        10.0,      12.086,      0.0044,       0.661,      0.0367,       7.984,      11.011
       30,      171.33,       3.208,      421.55,       3.778,        2453,         8.8,      12.065,      0.0050,       1.541,      0.0370,      18.596,       9.213
       40,      352.71,       3.175,      749.65,       3.801,        3385,        16.3,      12.007,      0.0060,       3.352,      0.0538,      40.245,       8.764
       50,      600.47,       3.142,     1191.60,       3.925,        4308,        23.2,      11.919,      0.0068,       6.406,      0.0646,      76.351,       7.865
       60,      847.84,       3.450,     1690.50,       4.301,        5135,        24.5,      11.778,      0.0101,      10.438,      0.0539,     122.937,       6.897
       70,     1098.59,       3.955,     2201.00,       5.904,        5852,        41.1,      11.614,      0.0073,      15.309,      0.0934,     177.798,       6.179
       80,     1324.47,       3.463,     2682.28,       8.804,        6454,        38.7,      11.423,      0.0119,      21.010,      0.0768,     239.990,       5.519
       90,     1557.88,       5.493,     3146.38,       8.711,        6954,        38.8,      11.195,      0.0126,      27.477,      0.1075,     307.614,       5.064
      100,     1753.64,       5.939,     3525.73,      21.408,        7360,        49.7,      10.940,      0.0118,      34.064,      0.2297,     372.653,       4.706
\end{filecontents*}

\begin{filecontents*}{table3.dat}
out,      th,    th_err, tq,     tq_err,  rpm,   rpm_err,  v,    v_err,   a,     a_err,   pin,        theff
       20,       78.42,       4.449,      206.05,       5.007,        1642,        13.3,      11.906,      0.0060,       0.687,      0.0417,       8.177,       9.590
       30,      154.85,       4.060,      411.51,       4.726,        2417,        11.4,      11.885,      0.0045,       1.506,      0.0313,      17.902,       8.650
       40,      339.29,       4.012,      732.85,       4.730,        3347,        14.9,      11.829,      0.0059,       3.296,      0.0505,      38.983,       8.703
       50,      572.72,       4.002,     1157.16,       4.795,        4252,        22.9,      11.739,      0.0073,       6.156,      0.0514,      72.265,       7.925
       60,      820.20,       4.461,     1654.26,       5.459,        5056,        42.6,      11.602,      0.0111,      10.207,      0.0618,     118.421,       6.926
       70,     1061.99,       4.980,     2141.33,       6.230,        5757,        48.1,      11.430,      0.0120,      14.940,      0.0610,     170.764,       6.219
       80,     1298.50,       5.109,     2615.02,       7.356,        6366,        48.9,      11.247,      0.0095,      20.592,      0.0518,     231.602,       5.607
       90,     1509.07,       4.633,     3075.54,      12.963,        6885,        43.5,      11.040,      0.0124,      26.937,      0.1189,     297.377,       5.075
      100,     1712.52,       6.884,     3496.72,      19.577,        7305,        37.6,      10.802,      0.0138,      33.851,      0.2458,     365.640,       4.684
\end{filecontents*}





\begin{document}

\noindent
{\large \bf Tool info}
\vspace{3mm}

\noindent
\begin{tabular}{ll}
Serial API:  & 1:1.0\\ 
Board:       & Custom STM32F401RE thrustBoard v2\\ 
Firmware:    & thrust++ : ChibiOS RT 7.1.0 : HAL 8.1.0\\ 
Commit:      & [0ea573c] : Sep 15 2022 - 20:11:16
\end{tabular}
\vspace{3mm}

\noindent
{\large \bf Measurement info}
\vspace{3mm}

\noindent
\begin{tabular}{ll}
Motor:        & Dualsky 2814 V2\\ 
KV:           & 970\\ 
Magnet poles: & 14\\ 
Propeler:     & Aeronaut CamZ 12x6 fold\\ 
Blade count:  & 2\\ 
Note:         & Battery 3S.
\end{tabular}

\vspace{3mm}

%\noindent
%{\large \bf Measurement Results 1:}
%\vspace{3mm}

\subsection*{\large \bf Measurement Results 1:}

\noindent
\resizebox{\textwidth}{!}{
\begin{tabular}{|r|rr|rr|rr|rr|rr|r|r|}
\hline 
 \multirow[c]{2}{11mm}{Output [\%]} & \multicolumn{2}{l|}{Thrust [G]} & \multicolumn{2}{l|}{Torque [G cm]} & \multicolumn{2}{l|}{RPM [1/min]} 
   & \multicolumn{2}{l|}{Voltage [V]} & \multicolumn{2}{l|}{Current [A]} &\multirow{2}{14mm}{Pin [W]}  &\multirow{2}{14mm}{ThrustEff [G/W]}  \\
\cline{2-11} 
    &    mean& std dev&   mean& std dev&   mean& std dev&    mean& std dev&  mean& std dev&         &                \\
\hline
       20 &        88.99 &        2.243 &       213.81 &        1.999 &         1720 &         60.3 &       12.311 &       0.0041 &        0.660 &       0.0441 &        8.128 &       10.948 \\
       30 &       177.22 &        2.230 &       425.87 &        1.863 &         2507 &         60.4 &       12.285 &       0.0048 &        1.524 &       0.0380 &       18.728 &        9.462 \\
       40 &       361.10 &        2.249 &       756.64 &        1.919 &         3442 &         61.7 &       12.223 &       0.0043 &        3.348 &       0.0586 &       40.929 &        8.823 \\
       50 &       602.67 &        2.210 &      1207.94 &        2.476 &         4378 &         64.0 &       12.125 &       0.0065 &        6.429 &       0.0650 &       77.954 &        7.731 \\
       60 &       873.73 &        2.279 &      1745.68 &        2.109 &         5244 &         70.0 &       11.976 &       0.0111 &       10.742 &       0.0739 &      128.651 &        6.791 \\
       70 &      1138.68 &        2.418 &      2274.42 &        6.415 &         5954 &         71.0 &       11.793 &       0.0114 &       15.719 &       0.0746 &      185.369 &        6.143 \\
       80 &      1368.70 &        4.433 &      2778.03 &        8.455 &         6584 &         73.2 &       11.577 &       0.0123 &       21.616 &       0.0831 &      250.248 &        5.469 \\
       90 &      1593.75 &        4.502 &      3262.26 &       12.418 &         7085 &         70.7 &       11.336 &       0.0114 &       28.229 &       0.1227 &      319.997 &        4.981 \\
      100 &      1816.87 &        5.356 &      3671.65 &       16.864 &         7515 &         76.8 &       11.070 &       0.0121 &       35.296 &       0.1922 &      390.715 &        4.650 \\
\hline
\end{tabular}
}

%\vspace{3mm}

%\noindent
%{\large \bf Measurement Results 2:}
%\vspace{3mm}

\subsection*{\large \bf Measurement Results 2:}

\noindent
\resizebox{\textwidth}{!}{
\begin{tabular}{|r|rr|rr|rr|rr|rr|r|r|}
\hline 
 \multirow[c]{2}{11mm}{Output [\%]} & \multicolumn{2}{l|}{Thrust [G]} & \multicolumn{2}{l|}{Torque [G cm]} & \multicolumn{2}{l|}{RPM [1/min]} 
   & \multicolumn{2}{l|}{Voltage [V]} & \multicolumn{2}{l|}{Current [A]} &\multirow{2}{14mm}{Pin [W]}  &\multirow{2}{14mm}{ThrustEff [G/W]}  \\
\cline{2-11} 
    &    mean& std dev&   mean& std dev&   mean& std dev&    mean& std dev&  mean& std dev&         &                \\
\hline
       20 &        87.92 &        3.412 &       211.90 &        3.816 &         1662 &         10.0 &       12.086 &       0.0044 &        0.661 &       0.0367 &        7.984 &       11.011 \\
       30 &       171.33 &        3.208 &       421.55 &        3.778 &         2453 &          8.8 &       12.065 &       0.0050 &        1.541 &       0.0370 &       18.596 &        9.213 \\
       40 &       352.71 &        3.175 &       749.65 &        3.801 &         3385 &         16.3 &       12.007 &       0.0060 &        3.352 &       0.0538 &       40.245 &        8.764 \\
       50 &       600.47 &        3.142 &      1191.60 &        3.925 &         4308 &         23.2 &       11.919 &       0.0068 &        6.406 &       0.0646 &       76.351 &        7.865 \\
       60 &       847.84 &        3.450 &      1690.50 &        4.301 &         5135 &         24.5 &       11.778 &       0.0101 &       10.438 &       0.0539 &      122.937 &        6.897 \\
       70 &      1098.59 &        3.955 &      2201.00 &        5.904 &         5852 &         41.1 &       11.614 &       0.0073 &       15.309 &       0.0934 &      177.798 &        6.179 \\
       80 &      1324.47 &        3.463 &      2682.28 &        8.804 &         6454 &         38.7 &       11.423 &       0.0119 &       21.010 &       0.0768 &      239.990 &        5.519 \\
       90 &      1557.88 &        5.493 &      3146.38 &        8.711 &         6954 &         38.8 &       11.195 &       0.0126 &       27.477 &       0.1075 &      307.614 &        5.064 \\
      100 &      1753.64 &        5.939 &      3525.73 &       21.408 &         7360 &         49.7 &       10.940 &       0.0118 &       34.064 &       0.2297 &      372.653 &        4.706 \\
\hline
\end{tabular}
}

%\vspace{3mm}

%\noindent
%{\large \bf Measurement Results 3:}
%\vspace{3mm}

\subsection*{\large \bf Measurement Results 3:}

\noindent
\resizebox{\textwidth}{!}{
\begin{tabular}{|r|rr|rr|rr|rr|rr|r|r|}
\hline 
 \multirow[c]{2}{11mm}{Output [\%]} & \multicolumn{2}{l|}{Thrust [G]} & \multicolumn{2}{l|}{Torque [G cm]} & \multicolumn{2}{l|}{RPM [1/min]} 
   & \multicolumn{2}{l|}{Voltage [V]} & \multicolumn{2}{l|}{Current [A]} &\multirow{2}{14mm}{Pin [W]}  &\multirow{2}{14mm}{ThrustEff [G/W]}  \\
\cline{2-11} 
    &    mean& std dev&   mean& std dev&   mean& std dev&    mean& std dev&  mean& std dev&         &                \\
\hline
       20 &        78.42 &        4.449 &       206.05 &        5.007 &         1642 &         13.3 &       11.906 &       0.0060 &        0.687 &       0.0417 &        8.177 &        9.590 \\
       30 &       154.85 &        4.060 &       411.51 &        4.726 &         2417 &         11.4 &       11.885 &       0.0045 &        1.506 &       0.0313 &       17.902 &        8.650 \\
       40 &       339.29 &        4.012 &       732.85 &        4.730 &         3347 &         14.9 &       11.829 &       0.0059 &        3.296 &       0.0505 &       38.983 &        8.703 \\
       50 &       572.72 &        4.002 &      1157.16 &        4.795 &         4252 &         22.9 &       11.739 &       0.0073 &        6.156 &       0.0514 &       72.265 &        7.925 \\
       60 &       820.20 &        4.461 &      1654.26 &        5.459 &         5056 &         42.6 &       11.602 &       0.0111 &       10.207 &       0.0618 &      118.421 &        6.926 \\
       70 &      1061.99 &        4.980 &      2141.33 &        6.230 &         5757 &         48.1 &       11.430 &       0.0120 &       14.940 &       0.0610 &      170.764 &        6.219 \\
       80 &      1298.50 &        5.109 &      2615.02 &        7.356 &         6366 &         48.9 &       11.247 &       0.0095 &       20.592 &       0.0518 &      231.602 &        5.607 \\
       90 &      1509.07 &        4.633 &      3075.54 &       12.963 &         6885 &         43.5 &       11.040 &       0.0124 &       26.937 &       0.1189 &      297.377 &        5.075 \\
      100 &      1712.52 &        6.884 &      3496.72 &       19.577 &         7305 &         37.6 &       10.802 &       0.0138 &       33.851 &       0.2458 &      365.640 &        4.684 \\
\hline
\end{tabular}
}

%\vspace{3mm}






\pagebreak
%\noindent
%{\large \bf Plots for Measurement Results:}
%\vspace{3mm}

\subsection*{Plots for Measurement Results:}
%\noindent
\centerline{
\hspace{-10mm}
\begin{tikzpicture}
	\begin{axis}[
		height=8cm,
		width=8cm,  %\textwidth,
		xmin=15,
		xmax=105,
		ymin=0,
		minor x tick num=3,
		minor y tick num=3,
		ticklabel style = {font=\tiny},
		grid=both,
		major grid style={gray!80},
		minor grid style={gray!25},
		xlabel={\footnotesize Motor Output [\%]},
		ylabel={\footnotesize Thrust [G]},
		%ylabel style={ yshift = {-1mm}, },
		legend pos=north west,
		legend style={draw=none}]
	\addplot[
		blue, mark options={black, scale=0.175},
		smooth, 
		error bars/.cd, 
		y fixed,
		y dir=both, 
		y explicit,
	] 
	table [x=out, y=th, y error=th_err, col sep=comma] {table1.dat};
	\addplot[
		blue, mark options={black, scale=0.175},
		smooth, 
		error bars/.cd, 
		y fixed,
		y dir=both, 
		y explicit,
	] 
	table [x=out, y=th, y error=th_err, col sep=comma] {table2.dat};
	\addplot[
		blue, mark options={black, scale=0.175},
		smooth, 
		error bars/.cd, 
		y fixed,
		y dir=both, 
		y explicit,
	] 
	table [x=out, y=th, y error=th_err, col sep=comma] {table3.dat};

	\end{axis}
\end{tikzpicture}
\hspace{5mm}
\begin{tikzpicture}
	\begin{axis}[
		height=8cm,
		width=8cm,  %\textwidth,
		xmin=15,
		xmax=105,
		ymin=0,
		minor x tick num=3,
		minor y tick num=3,
		ticklabel style = {font=\tiny},
		grid=both,
		major grid style={gray!80},
		minor grid style={gray!25},
		xlabel={\footnotesize Motor Output [\%]},
		ylabel={\footnotesize Torque [G cm]},
		legend pos=north west,
		legend style={draw=none}]
	\addplot[
		blue, mark options={black, scale=0.175},
		smooth, 
		error bars/.cd, 
		y fixed,
		y dir=both, 
		y explicit,
	] 
	table [x=out, y=tq, y error=tq_err, col sep=comma] {table1.dat};
	\addplot[
		blue, mark options={black, scale=0.175},
		smooth, 
		error bars/.cd, 
		y fixed,
		y dir=both, 
		y explicit,
	] 
	table [x=out, y=tq, y error=tq_err, col sep=comma] {table2.dat};
	\addplot[
		blue, mark options={black, scale=0.175},
		smooth, 
		error bars/.cd, 
		y fixed,
		y dir=both, 
		y explicit,
	] 
	table [x=out, y=tq, y error=tq_err, col sep=comma] {table3.dat};

	\end{axis}
\end{tikzpicture}
}
  
%\noindent 
\centerline{
\vspace{3mm}
\begin{tikzpicture}
	\begin{axis}[
		height=8cm,
		width=8cm,  %\textwidth,
		xmin=15,
		xmax=105,
		%ymin=0,
		minor x tick num=3,
		minor y tick num=3,	
		ticklabel style = {font=\tiny},
		tick scale binop=\times, %base 10:-3,
		grid=both,
		major grid style={gray!80},
		minor grid style={gray!25},
		xlabel={\footnotesize Motor Output [\%]},
		ylabel={\footnotesize RPM [1/min]},
		legend pos=north west,
		legend style={draw=none}]
	\addplot[
		blue, mark options={black, scale=0.175},
		smooth, 
		error bars/.cd, 
			y fixed,
			y dir=both, 
			y explicit,
	] 
	table [x=out, y=rpm, y error=rpm_err, col sep=comma] {table1.dat};
	\addplot[
		blue, mark options={black, scale=0.175},
		smooth, 
		error bars/.cd, 
			y fixed,
			y dir=both, 
			y explicit,
	] 
	table [x=out, y=rpm, y error=rpm_err, col sep=comma] {table2.dat};
	\addplot[
		blue, mark options={black, scale=0.175},
		smooth, 
		error bars/.cd, 
			y fixed,
			y dir=both, 
			y explicit,
	] 
	table [x=out, y=rpm, y error=rpm_err, col sep=comma] {table3.dat};

	\end{axis}
\end{tikzpicture}
\hspace{4.65mm}
\begin{tikzpicture}
	\begin{axis}[
		height=8cm,
		width=8cm,
		axis y line*=right,		
		xmin=15,
		xmax=105,
		ymin=0,
		minor x tick num=3,
		ticklabel style = {font=\tiny},
		grid=both,
		xlabel={\footnotesize Motor Output [\%]},
		ylabel={\footnotesize Current [A]},
		legend pos=north west,
		legend style={draw=none}]
	\addplot[
	  blue, mark options={black, scale=0.175},
	  smooth, 
	  error bars/.cd, 
		y fixed,
		y dir=both, 
		y explicit
	] 
	table [x=out, y=a, y error=a_err, col sep=comma] {table1.dat};
	\addplot[
	  blue, mark options={black, scale=0.175},
	  smooth, 
	  error bars/.cd, 
		y fixed,
		y dir=both, 
		y explicit
	] 
	table [x=out, y=a, y error=a_err, col sep=comma] {table2.dat};
	\addplot[
	  blue, mark options={black, scale=0.175},
	  smooth, 
	  error bars/.cd, 
		y fixed,
		y dir=both, 
		y explicit
	] 
	table [x=out, y=a, y error=a_err, col sep=comma] {table3.dat};

	\end{axis}
	\begin{axis}[
		height=8cm,
		width=8cm,  %\textwidth,
		axis y line*=left,
		axis x line=none,
		scaled y ticks=false,
		ticklabel style = {font=\tiny},
		grid style=dashed,
		grid=major,
		ylabel={\footnotesize Voltage [V]},
		legend style={
			nodes={scale=0.5, transform shape},
			cells={anchor=east},
			% legend pos=south east,
			at={(0.5,0.97)},anchor=north,
		}
	]
%	\addlegendimage{/pgfplots/refstyle=plot_1}\addlegendentry{Current [A]}
	\addplot[
		red, mark options={red, scale=0.15},
		smooth,
		error bars/.cd, 
		y fixed,
		y dir=both, 
		y explicit  
	] 
	table [x=out, y=v, y error=v_err, col sep=comma] {table1.dat};
	\addplot[
		red, mark options={red, scale=0.15},
		smooth,
		error bars/.cd, 
		y fixed,
		y dir=both, 
		y explicit  
	] 
	table [x=out, y=v, y error=v_err, col sep=comma] {table2.dat};
	\addplot[
		red, mark options={red, scale=0.15},
		smooth,
		error bars/.cd, 
		y fixed,
		y dir=both, 
		y explicit  
	] 
	table [x=out, y=v, y error=v_err, col sep=comma] {table3.dat};

%	\addlegendentry{Voltage [V]}
	\end{axis}
\end{tikzpicture}
\vspace{3mm}
}

%\noindent 
\centerline{
\hspace{-10mm}
\begin{tikzpicture}
	\begin{axis}[
		height=8cm,
		width=8cm,  %\textwidth,
		xmin=15,
		xmax=105,
		ymin=0,
		minor x tick num=3,
		minor y tick num=3,		
		ticklabel style = {font=\tiny},
		grid=both,
		major grid style={gray!80},
		minor grid style={gray!25},
		xlabel={\footnotesize Motor Output [\%]},
		ylabel={\footnotesize Power In [W]},
		legend pos=north west,
		legend style={
			nodes={scale=0.75, transform shape},
			cells={anchor=west},
			legend pos=north west,
		}	
	]			
	\addplot[
		blue, mark=*, mark options={blue, scale=0.5},
		smooth, 
	] 
	table [x=out, y=pin, col sep=comma] {table1.dat};
	\addplot[
		blue, mark=*, mark options={blue, scale=0.5},
		smooth, 
	] 
	table [x=out, y=pin, col sep=comma] {table2.dat};
	\addplot[
		blue, mark=*, mark options={blue, scale=0.5},
		smooth, 
	] 
	table [x=out, y=pin, col sep=comma] {table3.dat};

	\end{axis}
\end{tikzpicture}
\hspace{9mm}
\begin{tikzpicture}
	\begin{axis}[
		height=8cm,
		width=8cm,  %\textwidth,
		xmin=15,
		xmax=105,
		minor x tick num=3,
		minor y tick num=3,
		ticklabel style = {font=\tiny},
		grid=both,
		major grid style={gray!80},
		minor grid style={gray!25},
		xlabel={\footnotesize Motor Output [\%]},
		ylabel={\footnotesize Thrust Efficiency [G/W]},
		legend pos=north west,
		legend style={draw=none}]
	\addplot[
		blue, mark=*, mark options={blue, scale=0.5},
		smooth, 
	] 
	table [x=out, y=theff, col sep=comma] {table1.dat};
	\addplot[
		blue, mark=*, mark options={blue, scale=0.5},
		smooth, 
	] 
	table [x=out, y=theff, col sep=comma] {table2.dat};
	\addplot[
		blue, mark=*, mark options={blue, scale=0.5},
		smooth, 
	] 
	table [x=out, y=theff, col sep=comma] {table3.dat};

	\end{axis}
\end{tikzpicture}
}
	
\end{document}


